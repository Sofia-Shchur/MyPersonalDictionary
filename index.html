<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Words Trainer</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<body id="page-top">

<nav class="navbar navbar-expand-lg bg-dark text-uppercase py-3">
    <!--<div class="container">-->
    <a class="navbar-brand text-white" href="javascript:window.location.reload()">Words Trainer</a>
    <div id="timer" class="text-secondary font-weight-bold"></div>&nbsp;&nbsp;&nbsp;&nbsp;
    <!--</div>-->
    <div class="radio-options d-flex align-items-center mb-3 mt-3 col-sm-4 hidden"
         id="translationDirectionContainer">
        <!-- Added "hidden" class for translation direction -->
        <label class="mr-2 mb-0 hidden">
            <input type="radio" name="translationDirection" class="btn-rounded" value="eng-rus"
                   checked> <span class="text-white" style="white-space: nowrap;">eng -> rus</span>
        </label>
        <label class="mb-0 hidden">
            <input type="radio" name="translationDirection" value="rus-eng"> <span class="text-white" style="white-space: nowrap;">rus -> eng</span>
        </label>
    </div>


</nav>

<div class="container-fluid mt-5">
    <div class="col-md-12 px-md-4">
        <div class="content">
            <div class="row">
                <div id="buttons-container" class="col-md-12 text-center">
                    <div class="d-inline-block mr-2">
                        <div class="btn-group" >

                        </div>
                        <div id="quiz" class="mb-3 text-center d-none mx-auto"></div> <!-- Centered #quiz div -->
                        <div class="btn-group">
                            <button id="showWords" class="btn btn-primary" onclick="dataAnalysis.getSelectedWords()">
                                Show Words
                            </button>
                            <button id="start" class="btn btn-success" onclick="dataAnalysis.startQuiz()" disabled>
                                Start
                            </button>
                        </div>
                        </br></br>
                    </div>
                </div>
                <div id="category-info" class="mb-3 text-center"></div>
                <div class="col-md-12" id="category-list">
                    <!-- Categories list will be dynamically inserted here -->
                </div>
            </div>
        </div>
    </div>


    <div class="row">
        <main role="main" class="col-md-12 px-md-4">
            <div class="content">
                <div id="translation" class="row"></div>
            </div>
        </main>
    </div>
</div>

<footer class="footer mt-auto py-3 bg-white text-black text-center">
    <div class="container">
        <span>&copy; 2024 JSMonsters inc, idea Sofia Shchur</span>
    </div>
</footer>

<div class="modal fade" id="translationModal" tabindex="-1" aria-labelledby="translationModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="translationModalLabel">Translation Results</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body row" id="translationModalBody" style="margin: 0;"></div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.1/chart.min.js"></script>
<!-- Chart.js Date Adapter -->
<script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns"></script>
<script src="QuizTimer.js"></script>
<script src="DesignerUI.js"></script>
<script src="Quiz.js"></script>
<script src="DataAnalysis.js"></script>


<script>
    const designerUI = new DesignerUI();
    designerUI.drawLayout();
    const dataAnalysis = new DataAnalysis();
    dataAnalysis.loadWords();

</script>

<script>
    document.addEventListener('DOMContentLoaded', (event) => {
        const form = document.getElementById('quizForm');
        form.addEventListener('keypress', function(event) {
            if (event.key === 'Enter') {
                event.preventDefault(); // Prevent default form submission
                handleFormSubmit();
            }
        });
        function handleFormSubmit() {
            dataAnalysis.checkAnswer();
        }
    });

</script>
</body>

</html>